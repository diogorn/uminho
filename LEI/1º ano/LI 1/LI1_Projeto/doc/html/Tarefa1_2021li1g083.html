<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa1_2021li1g083</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Diogo Neto &lt;a98197@alunos.uminho.pt&gt;;<br />: Diogo Afonso &lt;a101919@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa1_2021li1g083</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p><strong><code>Tarefa 1 do projeto de LI1 em 2021/22</code></strong></p><p>Este m&#243;dulo, referente &#224; tarefa 1, cont&#233;m defini&#231;&#245;es Haskell para avaliar se um potencial mapa do jogo <strong>Block Dude</strong> &#233; jog&#225;vel de acordo com cinco regras.
    1.  Apenas uma pe&#231;a por posi&#231;&#227;o
    2.  Apenas uma porta no jogo
    3.  N&#227;o existem caixas flutuantes
    4.  O mapa tem  que ter pelo menos um espa&#231;o vazio
    5.  Deve exisir ch&#227;o ao longo do mapa</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:validaPotencialMapa">validaPotencialMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:checkDuplos">checkDuplos</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; Bool</li><li class="src short"><a href="#v:jCoordenadas">jCoordenadas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>]</li><li class="src short"><a href="#v:contaPortas">contaPortas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:checkBase">checkBase</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:checkBloco">checkBloco</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:jCoordenadasX">jCoordenadasX</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [Int]</li><li class="src short"><a href="#v:jCoordenadasY">jCoordenadasY</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [Int]</li><li class="src short"><a href="#v:indiceMatriz">indiceMatriz</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a></li><li class="src short"><a href="#v:criaMatriz">criaMatriz</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>]</li><li class="src short"><a href="#v:checkVazios">checkVazios</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; Bool</li><li class="src short"><a href="#v:primeiroChao">primeiroChao</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)</li><li class="src short"><a href="#v:chao">chao</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; Bool</li><li class="src short"><a href="#v:delete">delete</a> :: Eq a =&gt; a -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:chaoalt">chaoalt</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; Bool</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:validaPotencialMapa" class="def">validaPotencialMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:validaPotencialMapa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <strong>&quot;validaPotencialMapa&quot;</strong> verifica que as regras do jogo s&#227;o cumpridas utilizando fun&#231;&#245;es auxiliares individuais para cada regra</p></div></div><div class="top"><p class="src"><a id="v:checkDuplos" class="def">checkDuplos</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; Bool <a href="#v:checkDuplos" class="selflink">#</a></p><div class="doc"><h1>Regra 1</h1><p><strong>&quot;checkDuplos&quot;</strong> verifica, recursivamente, que numa lista de apenas coordenadas n&#227;o existem pares ordenados repetidos de modo a satisfazer a regra n&#250;mero 1.</p></div></div><div class="top"><p class="src"><a id="v:jCoordenadas" class="def">jCoordenadas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] <a href="#v:jCoordenadas" class="selflink">#</a></p><div class="doc"><p><strong>&quot;jCoordenadas&quot;</strong> &#233; auxiliar da fun&#231;&#227;o &quot;checkDuplos&quot; e &#233; respons&#225;vel por obter apenas as coordenadas das pe&#231;as descartando o seu tipo </p></div></div><div class="top"><p class="src"><a id="v:contaPortas" class="def">contaPortas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:contaPortas" class="selflink">#</a></p><div class="doc"><h1>Regra 2</h1><p>A fun&#231;&#227;o <strong>&quot;contaPortas&quot;</strong> assegura que a regra n&#250;mero 2 &#233; cumprida contando o n&#250;mero de portas que existem na lista do tipo (peca,coordenadas) atribuida na &quot;validaPotencialMapa&quot;</p></div></div><div class="top"><p class="src"><a id="v:checkBase" class="def">checkBase</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:checkBase" class="selflink">#</a></p><div class="doc"><h1>Regra 3</h1><p><strong>&quot;checkBase&quot;</strong> ir&#225; localizar as pe&#231;as do tipo <em>caixa</em> no mapa e a sua auxiliar &quot;checkBloco&quot; ir&#225; verificar se a base dessa pe&#231;a &#233; outra <em>caixa</em> ou um <em>bloco</em> evitando assim a exist&#234;ncia de caixas fluantes como manda a regra n&#250;mero 3   </p></div></div><div class="top"><p class="src"><a id="v:checkBloco" class="def">checkBloco</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:checkBloco" class="selflink">#</a></p><div class="doc"><p><strong>&quot;checkBloco&quot;</strong> verifica se uma <em>caixa</em> tem uma base v&#225;lida</p></div></div><div class="top"><p class="src"><a id="v:jCoordenadasX" class="def">jCoordenadasX</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [Int] <a href="#v:jCoordenadasX" class="selflink">#</a></p><div class="doc"><p><strong>&quot;jCoordenadasX&quot;</strong> &#233; auxiliar da fun&#231;&#227;o &quot;indiceMatriz&quot; e &#233; respons&#225;vel por seperar os pares ordenados da lista das coordenadas nume lista com apenas os elementos X</p></div></div><div class="top"><p class="src"><a id="v:jCoordenadasY" class="def">jCoordenadasY</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [Int] <a href="#v:jCoordenadasY" class="selflink">#</a></p><div class="doc"><p><strong>&quot;jCoordenadasY&quot;</strong> &#233; auxiliar da fun&#231;&#227;o &quot;indiceMatriz&quot; e &#233; respons&#225;vel por seperar os pares ordenados da lista das coordenadas nume lista com apenas os elementos Y</p></div></div><div class="top"><p class="src"><a id="v:indiceMatriz" class="def">indiceMatriz</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> <a href="#v:indiceMatriz" class="selflink">#</a></p><div class="doc"><p><strong>&quot;indiceMatriz&quot;</strong> obt&#233;m um par ordenado que corresponde ao indice da matriz criada pela &quot;criaMatriz&quot;.
     Esta fun&#231;&#227;o identifica qual o maior elemento das listas criadas pelas fun&#231;&#245;es &quot;jCoordenadasX&quot; e &quot;jCoordenadasY&quot; e retorna o indice da matriz</p></div></div><div class="top"><p class="src"><a id="v:criaMatriz" class="def">criaMatriz</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] <a href="#v:criaMatriz" class="selflink">#</a></p><div class="doc"><p>Como j&#225; referido na defni&#231;&#227;o do checkVazios a fun&#231;&#227;o <strong>&quot;criaMatriz</strong>&quot; ir&#225; criar uma matriz de indice m*n e criar todas posi&#231;&#245;es possiveis nesse mapa desde (0,0) at&#233; (m,n)   </p></div></div><div class="top"><p class="src"><a id="v:checkVazios" class="def">checkVazios</a> :: [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; [<a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>] -&gt; Bool <a href="#v:checkVazios" class="selflink">#</a></p><div class="doc"><h1>Regra 4</h1><p><strong>&quot;checkVazios&quot;</strong> ir&#225; verificar se existem espa&#231;os vazios como pede a regra n&#250;mero 4.
     Esta fun&#231;&#227;o recebe a lista das coordenadas das pe&#231;as no mapa dado (lista obtida pela &quot;jCoordenadas&quot;) e uma matriz de indice m*n com todas as coordenadas existentes (inclusive as n&#227;o listadas).
     A matriz criada pela &quot;criaMatriz&quot; serve para compararmos as coordenadas das pe&#231;as do mapa com a mesma. Comparando a lista das pe&#231;as do mapa inserido com a lista de todas as coordenadas possiveis iremos concluir que se sobrarem pares ordenadas na lista criada pela &quot;criaMatriz&quot; ent&#227;o existem espa&#231;os vazios.</p></div></div><div class="top"><p class="src"><a id="v:primeiroChao" class="def">primeiroChao</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) <a href="#v:primeiroChao" class="selflink">#</a></p><div class="doc"><p><strong>&quot;primeiroChao&quot;</strong> &#233; respons&#225;vel por detectar o primeiro bloco que serve de ch&#227;o</p></div></div><div class="top"><p class="src"><a id="v:chao" class="def">chao</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; Bool <a href="#v:chao" class="selflink">#</a></p><div class="doc"><h1>Regra 5</h1><p><strong>&quot;chao&quot;</strong> verifica se h&#225; ch&#227;o ao longo de todo o mapa, obedecendo &#224;  regra 5. Esta fun&#231;&#227;o considera que se os Blocos tiverem apenas uma liga&#231;&#227;o por esquina, ter&#227;o que ter uma caixa a liga-los, como no exemplo do Q&amp;A</p></div></div><div class="top"><p class="src"><a id="v:delete" class="def">delete</a> :: Eq a =&gt; a -&gt; [a] -&gt; [a] <a href="#v:delete" class="selflink">#</a></p><div class="doc"><p><strong>&quot;delete&quot;</strong> &#233; uma auxiliar das fun&#231;&#245;es do chao que elimina da lista a pe&#231;a anteriormente comparada para a fun&#231;&#227;o n&#227;o entrar em loop</p></div></div><div class="top"><p class="src"><a id="v:chaoalt" class="def">chaoalt</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; Bool <a href="#v:chaoalt" class="selflink">#</a></p><div class="doc"><p><strong>&quot;chaoalt&quot;</strong> &#233; uma fun&#231;&#227;o alternativa &#224; &quot;chao&quot; Esta fun&#231;&#227;o considera que os Blocos podem se ligar apenas pela sua esquina. Inativa de momento</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>